@using System.Security.Claims;
@{
    int Id = Convert.ToInt32(User.FindFirst(ClaimTypes.Sid)?.Value);
    string Name = User.FindFirst(ClaimTypes.Name)?.Value!;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0" />
    <title>BBS</title>
    <link rel="stylesheet" href="~/_Layout.css">
    <link href="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.4/dist/quill.snow.css" rel="stylesheet">
</head>

<body>
    <header>
        <div id="navLeft">
            <a href="/"><svg width="32px" height="32px" viewBox="0 0 20 20" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path d="M5 10L12 3L19 10L19 20H5L5 10Z" stroke="#000000" stroke-width="1.5"
                            stroke-linecap="round" stroke-linejoin="round"></path>
                    </g>
                </svg></a>
            <a id="postListBtn" href="/Post/1">
                <svg width="32px" height="32px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg"
                    xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <title>rss_cover [#1030]</title>
                        <desc>Created with Sketch.</desc>
                        <defs> </defs>
                        <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                            <g id="Dribbble-Light-Preview" transform="translate(-380.000000, -3599.000000)"
                                fill="#000000">
                                <g id="icons" transform="translate(56.000000, 160.000000)">
                                    <path
                                        d="M331,3454.102 L329,3454.102 L329,3452.102 C330.105,3452.102 331,3452.997 331,3454.102 L331,3454.102 Z M329,3450.102 L329,3448.102 C332,3448.102 335.143,3451 335.143,3454 L333.143,3454 C333.143,3452 331,3450.102 329,3450.102 L329,3450.102 Z M329,3446.102 L329,3444.102 C334,3444.102 339.143,3448 339.143,3454 L337.143,3454 C337.143,3450 333,3446.102 329,3446.102 L329,3446.102 Z M326,3457 L342,3457 L342,3441 L326,3441 L326,3457 Z M324,3459 L344,3459 L344,3439 L324,3439 L324,3459 Z"
                                        id="rss_cover-[#1030]"> </path>
                                </g>
                            </g>
                        </g>
                    </g>
                </svg>
            </a>
        </div>

        @if (User.Identity!.IsAuthenticated)
        {
            <div id="navRight">
                <a id="userlink" class="@Id" asp-controller="User" asp-action="UserCenter">Hello! @(Name)</a>
                <img id="userLink"></img>
                <svg id="chat" width="32px" height="32px" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <path
                            d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 13.5997 2.37562 15.1116 3.04346 16.4525C3.22094 16.8088 3.28001 17.2161 3.17712 17.6006L2.58151 19.8267C2.32295 20.793 3.20701 21.677 4.17335 21.4185L6.39939 20.8229C6.78393 20.72 7.19121 20.7791 7.54753 20.9565C8.88837 21.6244 10.4003 22 12 22Z"
                            stroke="#1C274C" stroke-width="1.5"></path>
                        <path opacity="0.5" d="M8 12H8.009M11.991 12H12M15.991 12H16" stroke="#1C274C" stroke-width="2"
                            stroke-linecap="round" stroke-linejoin="round"></path>
                    </g>
                </svg>
                <svg id="notification" width="32px" height="32px" viewBox="0 0 24 24" fill="none"
                    xmlns="http://www.w3.org/2000/svg">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <g clip-path="url(#clip0_15_159)">
                            <rect width="24" height="24"></rect>
                            <path
                                d="M9.5 19C8.89555 19 7.01237 19 5.61714 19C4.87375 19 4.39116 18.2177 4.72361 17.5528L5.57771 15.8446C5.85542 15.2892 6 14.6774 6 14.0564C6 13.2867 6 12.1434 6 11C6 9 7 5 12 5C17 5 18 9 18 11C18 12.1434 18 13.2867 18 14.0564C18 14.6774 18.1446 15.2892 18.4223 15.8446L19.2764 17.5528C19.6088 18.2177 19.1253 19 18.382 19H14.5M9.5 19C9.5 21 10.5 22 12 22C13.5 22 14.5 21 14.5 19M9.5 19C11.0621 19 14.5 19 14.5 19"
                                stroke="#000000" stroke-linejoin="round"></path>
                            <path d="M12 5V3" stroke="#000000" stroke-linecap="round" stroke-linejoin="round"></path>
                        </g>
                        <defs>
                            <clipPath id="clip0_15_159">
                                <rect width="24" height="24" fill="white"></rect>
                            </clipPath>
                        </defs>
                    </g>
                </svg>
                <svg id="logoutBtn" fill="#000000" height="32px" width="32px" version="1.1" id="Capa_1"
                    xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 471.2 471.2"
                    xml:space="preserve">
                    <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                    <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                    <g id="SVGRepo_iconCarrier">
                        <g>
                            <g>
                                <path
                                    d="M227.619,444.2h-122.9c-33.4,0-60.5-27.2-60.5-60.5V87.5c0-33.4,27.2-60.5,60.5-60.5h124.9c7.5,0,13.5-6,13.5-13.5 s-6-13.5-13.5-13.5h-124.9c-48.3,0-87.5,39.3-87.5,87.5v296.2c0,48.3,39.3,87.5,87.5,87.5h122.9c7.5,0,13.5-6,13.5-13.5 S235.019,444.2,227.619,444.2z">
                                </path>
                                <path
                                    d="M450.019,226.1l-85.8-85.8c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1l62.8,62.8h-273.9c-7.5,0-13.5,6-13.5,13.5 s6,13.5,13.5,13.5h273.9l-62.8,62.8c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l85.8-85.8 C455.319,239.9,455.319,231.3,450.019,226.1z">
                                </path>
                            </g>
                        </g>
                    </g>
                </svg>
            </div>
            <div id="notificationList">
                <h4>notifications</h4>
            </div>

        }
        else
        {
            <div id="navRight">
                <a asp-controller="User" asp-action="Index">Login/Signup</a>
            </div>
        }

    </header>
    <main>
        @RenderBody()
    </main>
    <footer>rf@@ 2024 ALL RIGHTS RESERVED</footer>
    <script src="~/_Layout.js" defer></script>
    <script src="https://kit.fontawesome.com/cb5bacb648.js" crossorigin="anonymous"></script>
    @*<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>*@
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.4/dist/quill.js"></script>
    <script src="~/lib/microsoft/signalr/dist/browser/signalr.js"></script>
    @* @switch (ViewContext.HttpContext.Request.Path.Value?.Split("/")[1])
    {
    case "Post":
    <script src="~/PostCommon.js" defer></script>
    if (ViewContext.HttpContext.Request.Path.Value?.Split("/")[2] == "Detail")
    {
    <script src="~/PostDetail.js" defer></script>
    }
    else
    {
    <script src="~/Post.js" defer></script>
    }
    break;
    } *@
</body>

</html>