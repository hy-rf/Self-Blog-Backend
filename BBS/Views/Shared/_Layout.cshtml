@using System.Security.Claims;
@{
    int Id = Convert.ToInt32(User.FindFirst(ClaimTypes.Sid)?.Value);
    string Name = User.FindFirst(ClaimTypes.Name)?.Value!;
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=2.0" />
    <title>BBS</title>
    <link rel="stylesheet" href="~/_Layout.css">
    @if (ViewContext.HttpContext.Request.Path.Value?.Split("/")[1] == "Post")
    {
        <link href="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.4/dist/quill.snow.css" rel="stylesheet">
    }

</head>

<body>
    <header>
        <a href="/">
            <svg width="32px" height="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M9.44669 15.3973C9.11392 15.1506 8.64421 15.2204 8.39755 15.5532C8.1509 15.8859 8.2207 16.3557 8.55347 16.6023C9.52588 17.3231 10.7151 17.7498 12.0001 17.7498C13.2851 17.7498 14.4743 17.3231 15.4467 16.6023C15.7795 16.3557 15.8493 15.8859 15.6026 15.5532C15.3559 15.2204 14.8862 15.1506 14.5535 15.3973C13.8251 15.9371 12.946 16.2498 12.0001 16.2498C11.0542 16.2498 10.175 15.9371 9.44669 15.3973Z"
                        fill="#1C274C"></path>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12 1.25C11.2749 1.25 10.6134 1.44911 9.88928 1.7871C9.18832 2.11428 8.37772 2.59716 7.36183 3.20233L5.90622 4.06943C4.78711 4.73606 3.89535 5.26727 3.22015 5.77524C2.52314 6.29963 1.99999 6.8396 1.65907 7.55072C1.31799 8.26219 1.22554 9.0068 1.25519 9.87584C1.2839 10.717 1.43105 11.7397 1.61556 13.0219L1.90792 15.0537C2.14531 16.7036 2.33368 18.0128 2.61512 19.0322C2.90523 20.0829 3.31686 20.9169 4.05965 21.5565C4.80184 22.1956 5.68984 22.4814 6.77634 22.6177C7.83154 22.75 9.16281 22.75 10.8423 22.75H13.1577C14.8372 22.75 16.1685 22.75 17.2237 22.6177C18.3102 22.4814 19.1982 22.1956 19.9404 21.5565C20.6831 20.9169 21.0948 20.0829 21.3849 19.0322C21.6663 18.0129 21.8547 16.7036 22.0921 15.0537L22.3844 13.0219C22.569 11.7396 22.7161 10.717 22.7448 9.87584C22.7745 9.0068 22.682 8.26219 22.3409 7.55072C22 6.8396 21.4769 6.29963 20.7799 5.77524C20.1047 5.26727 19.2129 4.73606 18.0938 4.06943L16.6382 3.20233C15.6223 2.59716 14.8117 2.11428 14.1107 1.7871C13.3866 1.44911 12.7251 1.25 12 1.25ZM8.09558 4.51121C9.15309 3.88126 9.89923 3.43781 10.5237 3.14633C11.1328 2.86203 11.5708 2.75 12 2.75C12.4293 2.75 12.8672 2.86203 13.4763 3.14633C14.1008 3.43781 14.8469 3.88126 15.9044 4.51121L17.2893 5.33615C18.4536 6.02973 19.2752 6.52034 19.8781 6.9739C20.4665 7.41662 20.7888 7.78294 20.9883 8.19917C21.1877 8.61505 21.2706 9.09337 21.2457 9.82469C21.2201 10.5745 21.0856 11.5163 20.8936 12.8511L20.6148 14.7884C20.3683 16.5016 20.1921 17.7162 19.939 18.633C19.6916 19.5289 19.3939 20.0476 18.9616 20.4198C18.5287 20.7926 17.9676 21.0127 17.037 21.1294C16.086 21.2486 14.8488 21.25 13.1061 21.25H10.8939C9.15124 21.25 7.91405 21.2486 6.963 21.1294C6.03246 21.0127 5.47129 20.7926 5.03841 20.4198C4.60614 20.0476 4.30838 19.5289 4.06102 18.633C3.80791 17.7162 3.6317 16.5016 3.3852 14.7884L3.10643 12.851C2.91437 11.5163 2.77991 10.5745 2.75432 9.82469C2.72937 9.09337 2.81229 8.61505 3.01167 8.19917C3.21121 7.78294 3.53347 7.41662 4.12194 6.9739C4.72482 6.52034 5.54643 6.02973 6.71074 5.33615L8.09558 4.51121Z"
                        fill="#1C274C"></path>
                </g>
            </svg>
        </a>
        <a id="postListBtn" href="/Post/1">
            <svg width="32px" height="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g stroke-width="0"></g>
                <g stroke-linecap="round" stroke-linejoin="round"></g>
                <g>
                    <path
                        d="M8.25 7C8.25 6.58579 8.58579 6.25 9 6.25H15C15.4142 6.25 15.75 6.58579 15.75 7C15.75 7.41421 15.4142 7.75 15 7.75H9C8.58579 7.75 8.25 7.41421 8.25 7Z"
                        fill="#1C274C"></path>
                    <path
                        d="M9 15.25C8.58579 15.25 8.25 15.5858 8.25 16C8.25 16.4142 8.58579 16.75 9 16.75H15C15.4142 16.75 15.75 16.4142 15.75 16C15.75 15.5858 15.4142 15.25 15 15.25H9Z"
                        fill="#1C274C"></path>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12.75 2C12.75 1.58579 12.4142 1.25 12 1.25C11.5858 1.25 11.25 1.58579 11.25 2V2.75L6.60638 2.74995C6.04435 2.74952 5.6012 2.74917 5.1838 2.88503C5.00078 2.9446 4.82452 3.02322 4.65792 3.11959C4.27796 3.33939 3.98214 3.66934 3.60695 4.08781L3.51779 4.18718C3.11286 4.63811 2.77334 5.01618 2.52616 5.35169C2.26641 5.70424 2.0639 6.06715 1.98387 6.49977C1.9227 6.83045 1.9227 7.16955 1.98387 7.50023C2.0639 7.93285 2.26641 8.29576 2.52616 8.64831C2.77334 8.98382 3.11285 9.36189 3.51778 9.81281L3.60695 9.91219C3.98213 10.3307 4.27796 10.6606 4.65792 10.8804C4.82452 10.9768 5.00078 11.0554 5.1838 11.115C5.6012 11.2508 6.04435 11.2505 6.60638 11.25L11.25 11.25V11.75L6.46165 11.75C5.79208 11.75 5.23335 11.75 4.78102 11.796C4.30755 11.8441 3.86818 11.9489 3.47218 12.2135C3.17191 12.4141 2.91409 12.6719 2.71346 12.9722C2.44886 13.3682 2.34415 13.8075 2.29598 14.281C2.24997 14.7334 2.24998 15.2921 2.25 15.9617V16.0383C2.24998 16.7079 2.24997 17.2666 2.29598 17.719C2.34415 18.1925 2.44886 18.6318 2.71346 19.0278C2.91409 19.3281 3.17191 19.5859 3.47218 19.7865C3.86818 20.0511 4.30755 20.1559 4.78102 20.204C5.23335 20.25 5.79208 20.25 6.46166 20.25H11.25V21.25H10C9.58579 21.25 9.25 21.5858 9.25 22C9.25 22.4142 9.58579 22.75 10 22.75H14C14.4142 22.75 14.75 22.4142 14.75 22C14.75 21.5858 14.4142 21.25 14 21.25H12.75V20.25L17.3936 20.25C17.9556 20.2505 18.3988 20.2508 18.8162 20.115C18.9992 20.0554 19.1755 19.9768 19.3421 19.8804C19.722 19.6606 20.0179 19.3307 20.393 18.9122L20.4822 18.8128C20.8872 18.3619 21.2267 17.9838 21.4738 17.6483C21.7336 17.2958 21.9361 16.9328 22.0161 16.5002C22.0773 16.1695 22.0773 15.8305 22.0161 15.4998C21.9361 15.0672 21.7336 14.7042 21.4738 14.3517C21.2266 14.0162 20.8871 13.6381 20.4822 13.1872L20.393 13.0878C20.0179 12.6693 19.722 12.3394 19.3421 12.1196C19.1755 12.0232 18.9992 11.9446 18.8162 11.885C18.3988 11.7492 17.9556 11.7495 17.3936 11.75L12.75 11.75V11.25L17.5383 11.25C18.2079 11.25 18.7666 11.25 19.219 11.204C19.6924 11.1559 20.1318 11.0511 20.5278 10.7865C20.8281 10.5859 21.0859 10.3281 21.2865 10.0278C21.5511 9.63182 21.6558 9.19245 21.704 8.71898C21.75 8.26664 21.75 7.70791 21.75 7.03832V6.96168C21.75 6.29209 21.75 5.73336 21.704 5.28102C21.6558 4.80755 21.5511 4.36818 21.2865 3.97218C21.0859 3.67191 20.8281 3.4141 20.5278 3.21346C20.1318 2.94886 19.6924 2.84415 19.219 2.79598C18.7666 2.74997 18.2079 2.74998 17.5383 2.75L12.75 2.75V2ZM6.70399 4.25C5.99772 4.25 5.81021 4.2586 5.64805 4.31138C5.56486 4.33845 5.48474 4.37419 5.40901 4.418C5.2614 4.50339 5.12972 4.63716 4.65785 5.16266C4.22267 5.64729 3.93269 5.97145 3.73379 6.24142C3.54258 6.50095 3.48122 6.65166 3.45884 6.77262C3.43104 6.92293 3.43104 7.07707 3.45884 7.22738C3.48122 7.34834 3.54258 7.49905 3.73379 7.75858C3.93269 8.02855 4.22267 8.35271 4.65785 8.83735C5.12972 9.36284 5.2614 9.49661 5.40901 9.582C5.48474 9.62581 5.56486 9.66155 5.64805 9.68862C5.81021 9.7414 5.99772 9.75 6.70399 9.75H17.5C18.2178 9.75 18.6998 9.74909 19.0672 9.71172C19.422 9.67562 19.586 9.6118 19.6945 9.53934C19.8309 9.44814 19.9481 9.33095 20.0393 9.19446C20.1118 9.08601 20.1756 8.92204 20.2117 8.56717C20.2491 8.19977 20.25 7.71784 20.25 7C20.25 6.28216 20.2491 5.80023 20.2117 5.43283C20.1756 5.07796 20.1118 4.91399 20.0393 4.80554C19.9481 4.66905 19.8309 4.55186 19.6945 4.46066C19.586 4.3882 19.422 4.32438 19.0672 4.28828C18.6998 4.25091 18.2178 4.25 17.5 4.25H6.70399ZM17.296 13.25C18.0023 13.25 18.1898 13.2586 18.3519 13.3114C18.4351 13.3385 18.5153 13.3742 18.591 13.418C18.7386 13.5034 18.8703 13.6372 19.3421 14.1627C19.7773 14.6473 20.0673 14.9714 20.2662 15.2414C20.4574 15.5009 20.5188 15.6517 20.5411 15.7726C20.569 15.9229 20.569 16.0771 20.5411 16.2274C20.5188 16.3483 20.4574 16.4991 20.2662 16.7586C20.0673 17.0286 19.7773 17.3527 19.3421 17.8373C18.8703 18.3628 18.7386 18.4966 18.591 18.582C18.5153 18.6258 18.4351 18.6615 18.3519 18.6886C18.1898 18.7414 18.0023 18.75 17.296 18.75H6.5C5.78216 18.75 5.30023 18.7491 4.93283 18.7117C4.57796 18.6756 4.41399 18.6118 4.30554 18.5393C4.16905 18.4481 4.05186 18.331 3.96066 18.1945C3.8882 18.086 3.82438 17.922 3.78828 17.5672C3.75091 17.1998 3.75 16.7178 3.75 16C3.75 15.2822 3.75091 14.8002 3.78828 14.4328C3.82438 14.078 3.8882 13.914 3.96066 13.8055C4.05186 13.669 4.16905 13.5519 4.30554 13.4607C4.41399 13.3882 4.57796 13.3244 4.93283 13.2883C5.30023 13.2509 5.78216 13.25 6.5 13.25H17.296Z"
                        fill="#1C274C"></path>
                </g>
            </svg>
        </a>

        @if (User.Identity!.IsAuthenticated)
        {
            <a id="userlink" class="@Id" asp-controller="User" asp-action="UserCenter">Hello! @(Name)</a>
            <img id="userLink"></img>
            <svg id="chat" width="32px" height="32px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g stroke-width="0"></g>
                <g stroke-linecap="round" stroke-linejoin="round"></g>
                <g>
                    <path
                        d="M9 12C9 12.5523 8.55228 13 8 13C7.44772 13 7 12.5523 7 12C7 11.4477 7.44772 11 8 11C8.55228 11 9 11.4477 9 12Z"
                        fill="#1C274C"></path>
                    <path
                        d="M13 12C13 12.5523 12.5523 13 12 13C11.4477 13 11 12.5523 11 12C11 11.4477 11.4477 11 12 11C12.5523 11 13 11.4477 13 12Z"
                        fill="#1C274C"></path>
                    <path
                        d="M17 12C17 12.5523 16.5523 13 16 13C15.4477 13 15 12.5523 15 12C15 11.4477 15.4477 11 16 11C16.5523 11 17 11.4477 17 12Z"
                        fill="#1C274C"></path>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M22.75 12C22.75 6.06294 17.9371 1.25 12 1.25C6.06294 1.25 1.25 6.06294 1.25 12C1.25 13.7183 1.65371 15.3445 2.37213 16.7869C2.47933 17.0021 2.50208 17.2219 2.4526 17.4068L1.857 19.6328C1.44927 21.1566 2.84337 22.5507 4.3672 22.143L6.59324 21.5474C6.77814 21.4979 6.99791 21.5207 7.21315 21.6279C8.65553 22.3463 10.2817 22.75 12 22.75C17.9371 22.75 22.75 17.9371 22.75 12ZM12 2.75C17.1086 2.75 21.25 6.89137 21.25 12C21.25 17.1086 17.1086 21.25 12 21.25C10.5189 21.25 9.12121 20.9025 7.88191 20.2852C7.38451 20.0375 6.78973 19.9421 6.20553 20.0984L3.97949 20.694C3.57066 20.8034 3.19663 20.4293 3.30602 20.0205L3.90163 17.7945C4.05794 17.2103 3.96254 16.6155 3.7148 16.1181C3.09752 14.8788 2.75 13.4811 2.75 12C2.75 6.89137 6.89137 2.75 12 2.75Z"
                        fill="#1C274C"></path>
                </g>
            </svg>
            <svg id="notification" width="32px" height="32px" viewBox="0 0 24 24" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <g stroke-width="0"></g>
                <g stroke-linecap="round" stroke-linejoin="round"></g>
                <g>
                    <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M12 1.25C7.71983 1.25 4.25004 4.71979 4.25004 9V9.7041C4.25004 10.401 4.04375 11.0824 3.65717 11.6622L2.50856 13.3851C1.17547 15.3848 2.19318 18.1028 4.51177 18.7351C5.26738 18.9412 6.02937 19.1155 6.79578 19.2581L6.79768 19.2632C7.56667 21.3151 9.62198 22.75 12 22.75C14.378 22.75 16.4333 21.3151 17.2023 19.2632L17.2042 19.2581C17.9706 19.1155 18.7327 18.9412 19.4883 18.7351C21.8069 18.1028 22.8246 15.3848 21.4915 13.3851L20.3429 11.6622C19.9563 11.0824 19.75 10.401 19.75 9.7041V9C19.75 4.71979 16.2802 1.25 12 1.25ZM15.3764 19.537C13.1335 19.805 10.8664 19.8049 8.62349 19.5369C9.33444 20.5585 10.571 21.25 12 21.25C13.4289 21.25 14.6655 20.5585 15.3764 19.537ZM5.75004 9C5.75004 5.54822 8.54826 2.75 12 2.75C15.4518 2.75 18.25 5.54822 18.25 9V9.7041C18.25 10.6972 18.544 11.668 19.0948 12.4943L20.2434 14.2172C21.0086 15.3649 20.4245 16.925 19.0936 17.288C14.4494 18.5546 9.5507 18.5546 4.90644 17.288C3.57561 16.925 2.99147 15.3649 3.75664 14.2172L4.90524 12.4943C5.45609 11.668 5.75004 10.6972 5.75004 9.7041V9Z"
                        fill="#1C274C"></path>
                </g>
            </svg>
            <svg id="logoutBtn" width="32px" height="32px" viewBox="0 0 24 24" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <g stroke-width="0"></g>
                <g stroke-linecap="round" stroke-linejoin="round"></g>
                <g>
                    <path
                        d="M12 3.25C12.4142 3.25 12.75 3.58579 12.75 4C12.75 4.41421 12.4142 4.75 12 4.75C7.99594 4.75 4.75 7.99594 4.75 12C4.75 16.0041 7.99594 19.25 12 19.25C12.4142 19.25 12.75 19.5858 12.75 20C12.75 20.4142 12.4142 20.75 12 20.75C7.16751 20.75 3.25 16.8325 3.25 12C3.25 7.16751 7.16751 3.25 12 3.25Z"
                        fill="#1C274C"></path>
                    <path
                        d="M16.4697 9.53033C16.1768 9.23744 16.1768 8.76256 16.4697 8.46967C16.7626 8.17678 17.2374 8.17678 17.5303 8.46967L20.5303 11.4697C20.8232 11.7626 20.8232 12.2374 20.5303 12.5303L17.5303 15.5303C17.2374 15.8232 16.7626 15.8232 16.4697 15.5303C16.1768 15.2374 16.1768 14.7626 16.4697 14.4697L18.1893 12.75H10C9.58579 12.75 9.25 12.4142 9.25 12C9.25 11.5858 9.58579 11.25 10 11.25H18.1893L16.4697 9.53033Z"
                        fill="#1C274C"></path>
                </g>
            </svg>
            <div id="notificationList">
                <h4>notifications</h4>
            </div>
        }
        else
        {
            <a asp-controller="User" asp-action="Index">Login/Signup</a>
        }
    </header>
    <main>
        @RenderBody()
    </main>
    <footer>rf@@ 2024 ALL RIGHTS RESERVED</footer>
    <script src="~/_Layout.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/quill@2.0.0-rc.4/dist/quill.js"></script>
    <script src="~/lib/microsoft/signalr/dist/browser/signalr.js"></script>
</body>

</html>