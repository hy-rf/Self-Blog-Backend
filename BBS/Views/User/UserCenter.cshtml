@model BBS.Models.User
@{
    int i = 0;
    int j = 0;
}


<div id="User">
    <div id="Detail">
        <h3 id="Title">Basic</h3>
        <p id="Id">Id:@Model.Id</p>
        <span>Name:</span><span id="name">@Model.Name</span>
        <p>Created:@Model.Created</p>
        <p>Posts:@foreach (var item in Model.Posts!) { i++; }@i</p>
        <p>Replies:@foreach (var item in Model.Replies!) { j++; }@j</p>
        <a href="/FriendRequests">Friend Requests</a>
        <a href="/FriendRequestsSent">Friend Requests Sent</a>
    </div>
    <div id="Avatar">
        <h3>Avatar</h3>
        <form method="POST" action="/User/EditAvatar" enctype="multipart/form-data" onsubmit="UploadFile(this);return false;">
            <div id="Avatars">
                <img src="data:image/png;base64, @Model.Avatar" width="128" height="128">
                <img id="Preview" width="128" height="128">
            </div>
            <label for="avatar">Choose Photo</label>
            <input type="file" id="avatar" name="avatar" value="Choose Photo">
            <label for="updateAvatarBtn">Update</label>
            <button id="updateAvatarBtn" type="submit" disabled></button>
        </form>
    </div>
    <div id="Posts">
        <h3>Posts</h3>
        @foreach (var item in Model.Posts)
        {
            <a href="Post/Detail/@item.Id">@item.Title</a>
        }
    </div>
    <div id="Replies">
        <h3>Replies</h3>
        @foreach (var item in Model.Replies)
        {
            <a href="Post/Detail/@item.PostId">@item.Content</a>
        }
    </div>
</div>
